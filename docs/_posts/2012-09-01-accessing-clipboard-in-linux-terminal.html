---
layout: post
title: Accessing clipboard in Linux terminal
date: '2012-09-01T23:17:00.000+02:00'
author: Tomasz Nurkiewicz
tags:
- linux
- bash
modified_time: '2012-09-01T23:17:14.397+02:00'
thumbnail: http://4.bp.blogspot.com/-n0iZiWmqb_k/UEJ6JuWmhsI/AAAAAAAAAl8/LDWylVsaKWM/s72-c/oslo.jpg
blogger_id: tag:blogger.com,1999:blog-6753769565491687768.post-2651442878637348416
blogger_orig_url: https://www.nurkiewicz.com/2012/09/accessing-clipboard-in-linux-terminal.html
---

<table cellpadding="0" cellspacing="0" class="tr-caption-container" style="float: left; margin-right: 1em; text-align: left;"><tbody><tr><td style="text-align: center;"><a href="http://4.bp.blogspot.com/-n0iZiWmqb_k/UEJ6JuWmhsI/AAAAAAAAAl8/LDWylVsaKWM/s1600/oslo.jpg" imageanchor="1" style="clear: left; margin-bottom: 1em; margin-left: auto; margin-right: auto;"><img border="0" height="238" src="http://4.bp.blogspot.com/-n0iZiWmqb_k/UEJ6JuWmhsI/AAAAAAAAAl8/LDWylVsaKWM/s320/oslo.jpg" width="320" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Oslofjord as seen from Tjuvholmen</td></tr></tbody></table>On a <i>day-to-day</i> basis I am using Ubuntu, which means constantly switching between terminal window and ordinary graphical application like IDE, editors, etc. Often I need to copy a bit of text from IDE to terminal or back. At least in Ubuntu using inconsistent <i>Ctrl + <b>Shift</b> + C</i> (or <i>V</i>) key combination and mouse to select area in terminal is a bit painful. Life would be so much simpler if there was a command line utility to print current clipboard contents to standard terminal output and a second one to take standard input and put it into the clipboard. Life <i>can</i> be much simpler, have a look at <a href="http://linux.die.net/man/1/xclip"><code>xclip</code></a>!<br />Without diving into details, start by defining the following aliases in your system (put them in <code>~/.bash_aliases</code> right now, you'll love them):<br /><pre class="brush: bash">alias ctrlc='xclip -selection c'<br />alias ctrlv='xclip -selection c -o'<br /></pre><code>ctrlc</code> and <code>ctrlv</code>, sounds familiar? Of course aliases are completely arbitrary. Now run any bash command but pipe its output to <code>ctrlc</code>:<br /><pre class="brush: bash">$ ps | ctrlc<br /></pre>Nothing happened? Open your favourite editor or any graphical application and hit <i>Ctrl + V</i>, like I just did in <a href="https://sourceforge.net/p/retext/home/ReText/">ReText</a> Markdown editor:<br /><pre class="brush: bash">  PID TTY          TIME CMD<br /> 5300 pts/0    00:00:00 bash<br /> 5389 pts/0    00:00:00 ps<br /> 5390 pts/0    00:00:00 xclip<br /></pre>That's right, the output of <a href="http://linux.die.net/man/1/ps"><code>ps</code></a> magically appeared in my Ubuntu clipboard. But there's more. Put any text you want in the clipboard using <i>Ctrl + C</i> and send it to standard output of your terminal:<br /><a name='more'></a><br /><pre class="brush: bash">$ ctrlv<br />Accessing clipboard in Linux terminal<br /></pre>These two simple commands show their real power when used together as part of larger pipe. Say you want to extract two most common IP addresses appearing in your <code>access.log</code> (<a href="http://www.howtoforge.com/logresolvemerge.pl_merge_apache_access_logs">example</a>) and send them to your team mate over IRC or e-mail:<br /><pre class="brush: bash">$ cut -f1 -d' ' access.log | sort | uniq -c | sort -n | tail -n 2 | ctrlc<br /></pre>My clipboard contents after running this command:<br /><pre class="brush: bash">2 72.149.148.248<br />4 192.6.178.101<br /></pre>Step by step: take the first space-delimited field from <code>access.log</code> (IP), sort all IPs and count how many times each IP appears (<code>uniq -c</code>). Finally sort by the number of occurrences, take two most common (<code>tail -n 2</code>) and copy to clipboard.<br />But I would like to share yet another tip with you:<br /><h4>Pretty-printing (formatting) of XML and JSON in command line.</h4>That's right, it's also possible, with two more aliases:<br /><pre class="brush: bash">alias jsonformat='python -mjson.tool'<br />alias xmlformat='xmllint --format -'<br /></pre>How many times you copied a piece of XML from logs or from <a href="http://www.soapui.org/">SoapUI</a> which was completely unreadable due to missing newlines and indentation? Suffer no more, say you have <code>&lt;a&gt;&lt;b&gt;&lt;c&gt;C1&lt;/c&gt;&lt;c&gt;C2&lt;/c&gt;&lt;/b&gt;&lt;d&gt;D&lt;/d&gt;&lt;/a&gt;</code> in your clipboard. Try this:<br /><pre class="brush: bash">$ ctrlv | xmlformat<br />&lt;?xml version="1.0"?&gt;<br />&lt;a&gt;<br />  &lt;b&gt;<br />    &lt;c&gt;C1&lt;/c&gt;<br />    &lt;c&gt;C2&lt;/c&gt;<br />  &lt;/b&gt;<br />  &lt;d&gt;D&lt;/d&gt;<br />&lt;/a&gt;<br /></pre>And what if you want to put the formatted XML back to the clipboard? I think you already know... Let's try something more sophisticated. Unformatted XML and JSON is typically returned from all sorts of APIs (and we live in the API era). Good, APIs are for computers, not for humans.<br /><pre class="brush: bash">$ curl "http://search.twitter.com/search.json?q=%23Java&amp;rpp=1"<br /><br />{"completed_in":0.16,"max_id":241658217820741632,"max_id_str":"241658217820741632","next_page":"?page=2&amp;max_id=241658217820741632&amp;q=%23Java&amp;rpp=1","page":1,"query":"%23Java","refresh_url":"?since_id=241658217820741632&amp;q=%23Java","results":[{"created_at":"Fri, 31 Aug 2012 22:06:23 +0000","from_user":"DBCOOPA","from_user_id":103392633,"from_user_id_str":"103392633","from_user_name":"Anonymous","geo":null,"id":241658217820741632,"id_str":"241658217820741632","iso_language_code":"en","metadata":{"result_type":"recent"},"profile_image_url":"http:\/\/a0.twimg.com\/profile_images\/2509685076\/r148jpb6pat3g2olf8zz_normal.png","profile_image_url_https":"https:\/\/si0.twimg.com\/profile_images\/2509685076\/r148jpb6pat3g2olf8zz_normal.png","source":"&amp;lt;a href=&amp;quot;http:\/\/twitter.com\/&amp;quot;&amp;gt;web&amp;lt;\/a&amp;gt;","text":"Critical bug in newest Java gives attackers complete control of PCs: http:\/\/t.co\/YjJqdQ40 #Java #Security via @ArsTechnica","to_user":null,"to_user_id":0,"to_user_id_str":"0","to_user_name":null}],"results_per_page":1,"since_id":0,"since_id_str":"0"}<br /></pre>Ouch! But there is hope:<br /><pre class="brush: bash">$ curl "http://search.twitter.com/search.json?q=%23Java&amp;rpp=1" | jsonformat<br />{<br />    "completed_in": 0.122, <br />    "max_id": 241658217820741632, <br />    "max_id_str": "241658217820741632", <br />    "next_page": "?page=2&amp;max_id=241658217820741632&amp;q=%23Java&amp;rpp=1", <br />    "page": 1, <br />    "query": "%23Java", <br />    "refresh_url": "?since_id=241658217820741632&amp;q=%23Java", <br />    "results": [<br />        {<br />            "created_at": "Fri, 31 Aug 2012 22:06:23 +0000", <br />            "from_user": "DBCOOPA", <br />            "from_user_id": 103392633, <br />            "from_user_id_str": "103392633", <br />            "from_user_name": "Anonymous", <br />            "geo": null, <br />            "id": 241658217820741632, <br />            "id_str": "241658217820741632", <br />            "iso_language_code": "en", <br />            "metadata": {<br />                "result_type": "recent"<br />            }, <br />            "profile_image_url": "http://a0.twimg.com/profile_images/2509685076/r148jpb6pat3g2olf8zz_normal.png", <br />            "profile_image_url_https": "https://si0.twimg.com/profile_images/2509685076/r148jpb6pat3g2olf8zz_normal.png", <br />            "source": "&amp;lt;a href=&amp;quot;http://twitter.com/&amp;quot;&amp;gt;web&amp;lt;/a&amp;gt;", <br />            "text": "Critical bug in newest Java gives attackers complete control of PCs: http://t.co/YjJqdQ40 #Java #Security via @ArsTechnica", <br />            "to_user": null, <br />            "to_user_id": 0, <br />            "to_user_id_str": "0", <br />            "to_user_name": null<br />        }<br />    ], <br />    "results_per_page": 1, <br />    "since_id": 0, <br />    "since_id_str": "0"<br />}<br /></pre>The same applies to XML documents:<br /><pre class="brush: bash">$ curl "http://search.twitter.com/search.json?q=%23Java&amp;rpp=1" | xmlformat<br /><br />&lt;?xml version="1.0" encoding="UTF-8"?&gt;<br />&lt;feed xmlns:google="http://base.google.com/ns/1.0" xmlns:openSearch="http://a9.com/-/spec/opensearch/1.1/" xmlns="http://www.w3.org/2005/Atom" xmlns:twitter="http://api.twitter.com/" xml:lang="en-US"&gt;<br />  &lt;id&gt;tag:search.twitter.com,2005:search/#Java&lt;/id&gt;<br />  &lt;link type="text/html" href="http://search.twitter.com/search?q=%23Java" rel="alternate"/&gt;<br />  &lt;link type="application/atom+xml" href="http://search.twitter.com/search.atom?q=%23Java" rel="self"/&gt;<br />  &lt;title&gt;#Java - Twitter Search&lt;/title&gt;<br />  &lt;link type="application/opensearchdescription+xml" href="http://twitter.com/opensearch.xml" rel="search"/&gt;<br />  &lt;link type="application/atom+xml" href="http://search.twitter.com/search.atom?since_id=241658217820741632&amp;amp;q=%23Java" rel="refresh"/&gt;<br />  &lt;updated&gt;2012-08-31T22:06:23Z&lt;/updated&gt;<br />  &lt;openSearch:itemsPerPage&gt;1&lt;/openSearch:itemsPerPage&gt;<br />  &lt;link type="application/atom+xml" href="http://search.twitter.com/search.atom?page=2&amp;amp;max_id=241658217820741632&amp;amp;q=%23Java&amp;amp;rpp=1" rel="next"/&gt;<br />  &lt;entry&gt;<br />    &lt;id&gt;tag:search.twitter.com,2005:241658217820741632&lt;/id&gt;<br />    &lt;published&gt;2012-08-31T22:06:23Z&lt;/published&gt;<br />    &lt;link type="text/html" href="http://twitter.com/DBCOOPA/statuses/241658217820741632" rel="alternate"/&gt;<br />    &lt;title&gt;Critical bug in newest Java gives attackers complete control of PCs: http://t.co/YjJqdQ40 #Java #Security via @ArsTechnica&lt;/title&gt;<br />    &lt;content type="html"&gt;Critical bug in newest Java gives attackers complete control of PCs: &amp;lt;a href="http://t.co/YjJqdQ40"&amp;gt;http://t.co/YjJqdQ40&amp;lt;/a&amp;gt; &amp;lt;em&amp;gt;&amp;lt;a href="http://search.twitter.com/search?q=%23Java" title="#Java" class=" "&amp;gt;#Java&amp;lt;/a&amp;gt;&amp;lt;/em&amp;gt; &amp;lt;a href="http://search.twitter.com/search?q=%23Security" title="#Security" class=" "&amp;gt;#Security&amp;lt;/a&amp;gt; via @&amp;lt;a class=" " href="https://twitter.com/ArsTechnica"&amp;gt;ArsTechnica&amp;lt;/a&amp;gt;&lt;/content&gt;<br />    &lt;updated&gt;2012-08-31T22:06:23Z&lt;/updated&gt;<br />    &lt;link type="image/png" href="http://a0.twimg.com/profile_images/2509685076/r148jpb6pat3g2olf8zz_normal.png" rel="image"/&gt;<br />    &lt;twitter:geo/&gt;<br />    &lt;twitter:metadata&gt;<br />      &lt;twitter:result_type&gt;recent&lt;/twitter:result_type&gt;<br />    &lt;/twitter:metadata&gt;<br />    &lt;twitter:source&gt;&amp;lt;a href="http://twitter.com/"&amp;gt;web&amp;lt;/a&amp;gt;&lt;/twitter:source&gt;<br />    &lt;twitter:lang&gt;en&lt;/twitter:lang&gt;<br />    &lt;author&gt;<br />      &lt;name&gt;DBCOOPA (Anonymous)&lt;/name&gt;<br />      &lt;uri&gt;http://twitter.com/DBCOOPA&lt;/uri&gt;<br />    &lt;/author&gt;<br />  &lt;/entry&gt;<br />&lt;/feed&gt;<br /></pre>Possibility to access system clipboard both-ways is a life saver when working a lot with the terminal. But it's even greater if you work with XML or JSON and you can simply type: <code>ctrlv | xmlformat | ctrlc</code> to replace unformatted clipboard content with pretty-printed version of it. I hope you'll enjoy 