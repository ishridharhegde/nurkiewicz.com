---
layout: post
title: Notes after Spring.IO Barcelona conference
date: '2015-05-31T16:09:00.000+02:00'
author: Tomasz Nurkiewicz
tags:
- 4FinanceIT
- conferences
- review
- spring
modified_time: '2015-07-29T08:20:13.829+02:00'
thumbnail: http://1.bp.blogspot.com/-5FkQ0MCYkSE/VWsV0G8UsuI/AAAAAAAABSE/xOxh6XmnGyk/s72-c/2015-05-02%2B12.50.36.jpg
blogger_id: tag:blogger.com,1999:blog-6753769565491687768.post-6822447587657186164
blogger_orig_url: https://www.nurkiewicz.com/2015/05/notes-after-springio-barcelona.html
---

<table cellpadding="0" cellspacing="0" class="tr-caption-container" style="float: left; margin-right: 1em; text-align: left;"><tbody><tr><td style="text-align: center;"><a href="http://1.bp.blogspot.com/-5FkQ0MCYkSE/VWsV0G8UsuI/AAAAAAAABSE/xOxh6XmnGyk/s1600/2015-05-02%2B12.50.36.jpg" imageanchor="1" style="clear: left; margin-bottom: 1em; margin-left: auto; margin-right: auto;"><img border="0" height="300" src="http://1.bp.blogspot.com/-5FkQ0MCYkSE/VWsV0G8UsuI/AAAAAAAABSE/xOxh6XmnGyk/s400/2015-05-02%2B12.50.36.jpg" width="400" /></a></td></tr><tr><td class="tr-caption" style="text-align: center;">Barcelona seen from Tibidabo Mountain</td></tr></tbody></table>Courtesy of my company, <a href="http://www.4financeit.com/">4Finance IT</a>, I attended <a href="http://www.springio.net/">Spring I/O Barcelona</a> this year. <em>2 days full of Spring, Groovy, Grails and Cloud</em>, as the conference advertises itself, is not an exaggeration. And although I am not really that interested in Groovy and especially Grails, a lot of other talks grabbed my attention and inspired in many ways. Let me briefly summarize what I learned and topics I will definitely explore in the nearest future.<br /><br /><h3><a href="http://www.springio.net/spring-4-web-applications/">Spring 4 Web Applications</a> by Rossen Stoyanchev</h3>One of the coolest things that come into Spring MVC 4.2 is a <a href="http://docs.spring.io/spring-framework/docs/4.2.0.BUILD-SNAPSHOT/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/ResponseBodyEmitter.html"><code>ResponseBodyEmitter</code></a>, similar to <code>DeferredResult</code> but designed for asynchronous streaming of multiple values. In 4.2 you simply return <code>ResponseBodyEmitter</code> from your controller and push data from server to clients whenever you find it convenient. There is a specialized <a href="http://docs.spring.io/spring-framework/docs/4.2.0.BUILD-SNAPSHOT/javadoc-api/org/springframework/web/servlet/mvc/method/annotation/SseEmitter.html"><code>SseEmitter</code></a> implementation. <a href="http://en.wikipedia.org/wiki/Server-sent_events">Server-sent events</a>, <a href="http://en.wikipedia.org/wiki/WebSocket">webSocket</a> and <a href="http://en.wikipedia.org/wiki/Streaming_Text_Oriented_Messaging_Protocol">STOMP</a> were the most important themes during this talk. Looks like Spring MVC gets a lot of improvements in 4.2, I can't wait for the official release. Very good presentation.<br /><br /><h3><a href="http://www.springio.net/modern-java-component-design-with-spring-4-2">Modern Java Component Design with Spring 4.2</a> by Juergen Hoeller</h3>A quick walk-through over various injection techniques available in Spring these days. I actually learned few interesting tricks like injecting <code>Optional</code> for beans that might not be available in application context (e.g. not enabled by profile):<br /><br /><pre class="brush: java">@Autowired<br />public FooService(Optional&lt;BarService&gt; barService) {<br />    //...<br />}<br /></pre>Even more interestingly, it's possible to have lazy bean even when it's needed by eager beans. You just have to remember to annotate both bean and injection point with <code>@Lazy</code>:<br /><br /><pre class="brush: java">@Lazy<br />@Bean<br />AlphaService alphaService() {<br />    //...<br />}<br /><br />//Usage:<br /><br />@Autowired<br />public BetaService(@Lazy AlphaService alphaService) {<br />    //...<br />}<br /></pre>Spring will wrap lazy bean with a proxy so that your application starts up but the initialization of <code>AlphaService</code> is delayed to first usage. Very useful.<br /><br /><h3><a href="http://www.springio.net/inside-an-spring-event-sourced-cqrs-application-or-why-microservices-can-actually-work/">Inside an Spring Event Sourced CQRS application – or why Microservices can actually work</a> by Eugen Paraschiv</h3>Best talk during the first day. And luckily it wasn't that much about microservices. I heard about Eugen Paraschiv (<a href="https://twitter.com/baeldung">@baeldung</a>) before, mostly from his <a href="http://www.baeldung.com/">blog</a>. In this talk he presented how event sourcing helped them to build successful application. He makes a clear distinction between event store (I personally believe Kafka is a great piece of software for that kind of use-case) and so-called <em>projections</em> - distributed consumers of events. Interestingly independent projections are very similar to microservices. Event sourcing is one of these topics I would really like to try in some application one day.<br /><br /><h3><a href="http://www.springio.net/manage-your-users-session-with-spring-session/">Manage your user’s session with Spring Session</a> by David Gomez</h3>An interesting approach to abstract yourself from HTTP session. Rather than relying on a built-in container session management (varying in quality, performance and custom features) <a href="http://projects.spring.io/spring-session/">Spring session</a> entirely and transparently replaces it with custom backend infrastructure. By default Redis is used for clustering. If you struggle with session replication, give Spring Session a try. Another alternative might be <a href="http://hazelcast.com/use-cases/web-session-clustering/">Hazelcast's web session clustering</a> - working in a similar way, but using Hazelcast underneath.<br /><br /><h3><a href="http://www.springio.net/real-time-with-spring-sse-and-websockets/">Real-time with Spring: SSE and WebSockets</a> by Sergi Almar</h3>Another talk about SSE and websockets, really interesting one. Seems like Spring MVC 4.2 will be a great playground for more reactive (there, I said it) web application that push data in real-time to clients. I am not especially interested in front-end development, but being able to easily stream data from the server or even communicate with it bi-directionally without costly HTTP overhead sounds awesome.<br /><br /><h3><a href="http://www.springio.net/performance-testing-crash-course/">Performance Testing Crash Course</a> by Dustin Whittle</h3>Great talk with dozens of tools worth trying. First let me shamelessly quote few facts from <a href="http://www.springio.net/wp-content/uploads/2014/11/performance-testing-crash-course-dustin-whittle.pdf">Dustin's presentation</a>:<br /><br /><blockquote>Microsoft found that Bing searches that were 2 seconds slower resulted in a 4.3% drop in revenue per user<br /><br /></blockquote><hr /><blockquote>When Mozilla shaved 2.2 seconds off their landing page, Firefox downloads increased 15.4%<br /><br /></blockquote><hr /><blockquote>Making Barack Obama’s website 60% faster increased donation conversions by 14%<br /><br /></blockquote><hr /><blockquote>Amazon and Walmart increase revenue 1% for every 100ms of improvement<br /><br /></blockquote>During the presentation I came across numerous tools that might come in handy one day:  <em> <a href="http://en.wikipedia.org/wiki/ApacheBench"><code>ab</code></a> (it's like command-line JMeter, I'm using it during my Hystrix talks) </em> <a href="https://github.com/newsapps/beeswithmachineguns">Bees with Machine Guns</a> (I'm not joking, it's a distributed load-test tool running in EC2) <em> <a href="http://locust.io/">Locust</a></em> <a href="https://github.com/JoeDog/siege">Siege</a><em> <a href="http://testutils.org/multi-mechanize/">Multi Mechanize</a></em> and of course <a href="http://jmeter.apache.org/">JMeter</a> and <a href="https://github.com/gatling/gatling">Gatling</a> were mentioned<br /><br />Just like we spend a lot of time testing backend and forgetting about TDD on the front-end, similarly network and browser are often forgotten when measuring website performance. This turns out to be a big mistake, JavaScript, DOM rendering, network latency and bandwidth - all of these greatly contribute to overall user experience. We recently instrumented our internal web application that had performance issues just to figure out that heavyweight DOM generated by Vaadin had the biggest impact on performance.<br /><br /><h3><a href="http://www.springio.net/spring-boot-microservices-container-kubernetes-how-to/">Spring-Boot Microservices, Container, Kubernetes – How To</a> by Ray Tsang</h3>The talk started rather lazily and off-topic so some of my friends actually left early. Boy, how wrong were they! Live demo of Kubernetes, including gradual rollout and canary releases was one of the most breathtaking during the conference. It's one of these talks where you want to try just learned stuff immediately. Kubernetes manages instances of Docker images for you, allocating resources and coordinating them on real hardware. Very agile way of deploying services and well-delivered demo.<br /><br /><hr />BTW the software behind <a href="http://spring.io/">Spring.IO</a> main website is Spring-powered and open sourced: <a href="https://github.com/spring-io/sagan">github.com/spring-io/sagan</a>. I didn't have time to look at it, but seems like a much better sample Spring application compared to "Pet Store" or other artificial project. In overall I really enjoyed the conference and I'm glad I could spend extra few days sightseeing beautiful Barcelona.<br /><br /><script>SyntaxHighlighter.highlight();</script>